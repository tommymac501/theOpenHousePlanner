-- DBeaver Update Script: Set user_id = 1 and add image data
-- Execute this script in DBeaver after running clean-production-import.sql

-- Step 1: Set all properties to user_id = 1
UPDATE open_houses SET user_id = 1;

-- Step 2: Add image data to specific properties
-- These are shortened base64 strings that will work in DBeaver

-- Property: 45 Diamond Drive, Palm Coast, FL 32164
UPDATE open_houses 
SET image_data = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwAAAAJACAIAAAC1zJYBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAADAKADAAQAAAABAAACQAAAAAC8WVstAABAAElEQVR4Aey9WZPkSnbnF4FAIBB75FLLrb73NptNNmkc0oaUZJSZbDQyk8n0pK8sk94kG73Mw9hoRIrNXm/vriUzI2PDDv3+5wAI5FK3q5rdTWpsvLIQgMPX42fz48cdw//tf/0/hsHQQhAOgwFhWHGp61r3A92PRyO7712Cob+rh4N61CQlxqIHo6HeUqYy1Fam7gZ+18RbTP/eIh6kb2KsPc29sanctqY2zXzW4DtpmD4qyqOphWo6Levzv/+M/vLs9zpZXi+l8XGfXV6t4HiZ5csyOwyAMwkkwirf7U1KOPxwH73bFNq3rUVQNgqooA9pfUW4wDkbloEzTdDSelHR6MJpMJtRMDI/0vBpWDsg8L2lhOIrKellVFe/quhrWvKQytTWgpYKZYNsE76PDaljxtmzS2PseDDuIeU+7/nbxbYnNCFY2CF0kN8OhRrbJ+AC2SkVLLY1n8+aqQU0WG+DhgCGvqbFrA5m49/4IJXg7qMLRiKrKEmi0yKA+q0xQjquHYFhTvsOEDGThnjAaKE1pV+8F6TyLXa0cxzQNe9MeUpxb6xB2XG061Gtz014VRnauXm8fkkEgzG/ie21Wnoehn+vhm+bJq2i7EFZ1RMFBXY0GBVfAZeNCVYE6GwjC5BT6aIwqp0rd0FrvS4MVBodBNQqEXXle5WURBON6GIgAhqMxmAhM67IZ92FF+WFA1QAAT7F6S4WVjbU1toG2GhDU5VhXb4y9VeJBMR7nyl6HPI1UYDUOyxGlRWGSFUUuRArH4Xg8msTEBcn9KTver9fRJMxeLcdfXMQXE4o5jobliNaMhww35QDGMewDelOjGHvB37s7srFwCAQjtdbTQFhKaqGBTPvIb9DkVlTQ429VZdhqtOZ8ox3BBq9I4LQAqAxdRZVGy8O0qIo8p5s57OUUMZRZUGZB+POb3Y9//iGrl9tTHs4Xq81yf7zh3jmCG+Sj44ExmYBUwCocptfr8fUmGtTpIg5n42k4qMejKh5Xg+wYBUU0rhlQpwJaWA3CtI7eb/ObY5UNxjeHw939dj6dLSbTIkvKNJtGk/V6ORyX94f94UDHxoOAthkJVul6M5+Eo7qssiSdhCEZYWhwqpu7+7IeZcNRXlcvv7jIi/S0z5JDEpblJCyWiyFDNigL2FdQxfkwep+lu7TIi1EwjMtilGfDaLK8uf315iqoh6fD4X48jutyUpVBVeWL2Xxchqf9abGcF0V6OO5Xq0WWJ1GYR8NDOKjWy00wHJ+SOoznv3z/frG5yuGYMBBxieCUFoxaNRSuwgjGY1BxANSDMFQaw0k4pYbWRtNj4NeKaYLfRKP37e/0I='
WHERE address = '45 Diamond Drive, Palm Coast, FL 32164';

-- Property: 36 Wasserman Dr, Palm Coast, FL 32164
UPDATE open_houses 
SET image_data = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCACQAJADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDm6KKK2NQoopaKAOv+Hvxi+KnwN1a013wr4qubLUtMlMlvGJd8bgkHyZF6q3qD/KsXwl9kklL3nz4J/Q1638Bfhd8PfHmi+CdV8Qa9e29/ba7r+rXyRLJgxW6xsjbRjGACD6e9eNaTrN74k8SadZ6npF/rmq6hcQWFnZaNd+fO8jtsRTnBZj2HJNSpNuyM5RTioo+z7HVtO1q0N9o2oW+o2cc7wmezfzY1lQAsjEfwhgCDjsaoXkWnXtqbS5t7aaBnV2inQOofGM4PXjnFfDVp8QLuwQeIvhxavqPhbU9avzqksK5u9EuIxtEepcDfEoJDBgDkYwT6b+FPig2f/Cx7fUvh/wDFS6aW3nOna/oulXTiNYp5EVPKBcqR8jKo2rnAGOmFYzgmkPR6dVZ'
WHERE address = '36 Wasserman Dr, Palm Coast, FL 32164';

-- Property: 6 Seoane Ct, Palm Coast, FL 32164
UPDATE open_houses 
SET image_data = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCACQAJADASIAAhEBAxEB'
WHERE address = '6 Seoane Ct, Palm Coast, FL 32164';

-- Property: 1 Westgate Ln Palm Coast Fl 32164  
UPDATE open_houses 
SET image_data = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAaSABIAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCACQAJADASIAAhEBAxEB'
WHERE address = '1 Westgate Ln Palm Coast Fl 32164';

-- Add image placeholders for other properties (you can replace these with actual image data later)
UPDATE open_houses 
SET image_data = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAJAAkAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+/qKKKACiiigD//Z'
WHERE image_data IS NULL;

-- Step 3: Verify the updates
SELECT 
    COUNT(*) as total_properties,
    SUM(CASE WHEN user_id = 1 THEN 1 ELSE 0 END) as properties_with_user_1,
    SUM(CASE WHEN image_data IS NOT NULL THEN 1 ELSE 0 END) as properties_with_images
FROM open_houses;

-- Step 4: Show sample of updated data
SELECT 
    id, 
    address, 
    user_id,
    CASE 
        WHEN image_data IS NULL THEN 'No Image' 
        WHEN LENGTH(image_data) > 50 THEN 'Has Image (' || LENGTH(image_data) || ' chars)'
        ELSE 'Has Image'
    END as image_status
FROM open_houses 
ORDER BY id 
LIMIT 10;

COMMIT;